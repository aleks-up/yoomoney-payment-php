# Платежный модуль YooMoney
## Описание
Данный модуль позволяет осуществлять платежи через платежный сервис YooMoney. 
<br>Модуль имеет API, который позволяет производить следующие действия:

### /payment/health
>Проверка доступности сервиса. Возвращает статус 200 в случае успеха.

### /payment/yoomoney
>Создание ссылки на оплату через сервис YooMoney. 
>
>Принимает два параметра:
- `amount` - сумма платежа
- `comment` - комментарий к платежу
Возвращает URL для оплаты.

### /payment/yoomoney/history
> Получение истории платежей через сервис YooMoney. Принимает один параметр:

- `records` - количество записей для вывода
Возвращает список платежей.
### /payment/yoomoney/check
> Проверка платежа. Принимает три параметра:

- `user_id` - идентификатор пользователя
- `card_last_digits` - последние четыре цифры номера карты
- `order_id` - идентификатор заказа
Возвращает статус платежа.

## Конфигурация
Для работы модуля необходимо создать файл конфигурации `config.cfg` в каталоге Config со следующим содержимым

    [yoomoney]
    token = "токен кошелька"
    wallet = "номер кошелька"
    
    [database]
    host = "localhost"
    username = "имя пользователя"
    password = "пароль"
    database = "имя бд"

## Установка и запуск
- Склонируйте репозиторий на сервер
- Создайте файл конфигурации `config.cfg`
- Создайте таблицу в базе данных, выполнив скрипт `db.sql`
- Перейдите по URL `http://{{ваш хост}}/payment/health` для проверки доступности модуля.